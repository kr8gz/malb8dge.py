b=^3~:[" "]*3;p=:;(b~r:" "+r^" | "+" ")^("\n"+"-"*11+"\n");d=:{p();c=" ";b~r:r{=}?c=r.0;^b[0]_~s:(b~r:r.s){=}?c=b.0.s;m=b.1.1;[b.0.0,m,b.2.2]{=}|[b.2.0,m,b.0.2]{=}?c=m;c!=" "?{;c+" wins!";%%};;"Turn: "+t;i=$("Enter pos: ")-1;i>8|i<0?{;"Invalid pos";%%};x,y=i/%3;b.x.y!=" "?{;"Pos already occupied";%%};b.x.y=t;t=t\x|o\};t="x";^9~:d();p();;"Draw!"